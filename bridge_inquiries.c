#include "bridge_inquiries.h"
#include "log.h"
#include "soap_ptz.h"

void bridge_inq_color_bg()
{
    log("bridge_inq_color_bg STUB");
}

void bridge_inq_color_b_gain()
{
    log("bridge_inq_color_b_gain STUB");
}

void bridge_inq_color_br()
{
    log("bridge_inq_color_br STUB");
}

void bridge_inq_color_chroma_suppress()
{
    log("bridge_inq_color_chroma_suppress STUB");
}

void bridge_inq_color_gb()
{
    log("bridge_inq_color_gb STUB");
}

void bridge_inq_color_gr()
{
    log("bridge_inq_color_gr STUB");
}

void bridge_inq_color_level()
{
    log("bridge_inq_color_level STUB");
}

void bridge_inq_color_matrix()
{
    log("bridge_inq_color_matrix STUB");
}

void bridge_inq_color_offset()
{
    log("bridge_inq_color_offset STUB");
}

void bridge_inq_color_phase()
{
    log("bridge_inq_color_phase STUB");
}

void bridge_inq_color_rb()
{
    log("bridge_inq_color_rb STUB");
}

void bridge_inq_color_rg()
{
    log("bridge_inq_color_rg STUB");
}

void bridge_inq_color_r_gain()
{
    log("bridge_inq_color_r_gain STUB");
}

void bridge_inq_color_speed()
{
    log("bridge_inq_color_speed STUB");
}

void bridge_inq_color_white_balance_mode()
{
    log("bridge_inq_color_white_balance_mode STUB");
}

void bridge_inq_detail_bandwidth()
{
    log("bridge_inq_detail_bandwidth STUB");
}

void bridge_inq_detail_bw_balance()
{
    log("bridge_inq_detail_bw_balance STUB");
}

void bridge_inq_detail_crispening()
{
    log("bridge_inq_detail_crispening STUB");
}

void bridge_inq_detail_highlight_detail()
{
    log("bridge_inq_detail_highlight_detail STUB");
}

void bridge_inq_detail_hv_balance()
{
    log("bridge_inq_detail_hv_balance STUB");
}

void bridge_inq_detail_level()
{
    log("bridge_inq_detail_level STUB");
}

void bridge_inq_detail_limit()
{
    log("bridge_inq_detail_limit STUB");
}

void bridge_inq_detail_mode()
{
    log("bridge_inq_detail_mode STUB");
}

void bridge_inq_detail_superlow()
{
    log("bridge_inq_detail_superlow STUB");
}

void bridge_inq_exposure_ae_speed()
{
    log("bridge_inq_exposure_ae_speed STUB");
}

void bridge_inq_exposure_back_light()
{
    log("bridge_inq_exposure_back_light STUB");
}

void bridge_inq_exposure_ex_comp_level()
{
    log("bridge_inq_exposure_ex_comp_level STUB");
}

void bridge_inq_exposure_ex_comp_on()
{
    log("bridge_inq_exposure_ex_comp_on STUB");
}

void bridge_inq_exposure_gain()
{
    log("bridge_inq_exposure_gain STUB");
}

void bridge_inq_exposure_gain_limit()
{
    log("bridge_inq_exposure_gain_limit STUB");
}

void bridge_inq_exposure_gain_point_position()
{
    log("bridge_inq_exposure_gain_point_position STUB");
}

void bridge_inq_exposure_iris()
{
    log("bridge_inq_exposure_iris STUB");
}

void bridge_inq_exposure_low_light_basis_brightness()
{
    log("bridge_inq_exposure_low_light_basis_brightness STUB");
}

void bridge_inq_exposure_low_light_basis_brightness_on()
{
    log("bridge_inq_exposure_low_light_basis_brightness_on STUB");
}

void bridge_inq_exposure_max_shutter()
{
    log("bridge_inq_exposure_max_shutter STUB");
}

void bridge_inq_exposure_min_shutter()
{
    log("bridge_inq_exposure_min_shutter STUB");
}

void bridge_inq_exposure_mode()
{
    log("bridge_inq_exposure_mode STUB");
}

void bridge_inq_exposure_nd_filter()
{
    log("bridge_inq_exposure_nd_filter STUB");
}

void bridge_inq_exposure_shutter()
{
    log("bridge_inq_exposure_shutter STUB");
}

void bridge_inq_exposure_spot_light()
{
    log("bridge_inq_exposure_spot_light STUB");
}

void bridge_inq_exposure_vis_enh()
{
    log("bridge_inq_exposure_vis_enh STUB");
}

void bridge_inq_exposure_vis_enh_on()
{
    log("bridge_inq_exposure_vis_enh_on STUB");
}

void bridge_inq_flicker_reduction_on()
{
    log("bridge_inq_flicker_reduction_on STUB");
}

void bridge_inq_focus_ir_correction()
{
    log("bridge_inq_focus_ir_correction STUB");
}

void bridge_inq_focus_mode()
{
    log("bridge_inq_focus_mode STUB");
}

void bridge_inq_focus_near_limit()
{
    log("bridge_inq_focus_near_limit STUB");
}

buffer_t* bridge_inq_focus_position()
{
    log("bridge_inq_focus_position");

    return cons_buffer_with_value(4, 0x1);
}

void bridge_inq_focus_sensitivity()
{
    log("bridge_inq_focus_sensitivity STUB");
}

void bridge_inq_gamma_black_gamma_level()
{
    log("bridge_inq_gamma_black_gamma_level STUB");
}

void bridge_inq_gamma_black_gamma_range()
{
    log("bridge_inq_gamma_black_gamma_range STUB");
}

void bridge_inq_gamma_black_level()
{
    log("bridge_inq_gamma_black_level STUB");
}

void bridge_inq_gamma_level()
{
    log("bridge_inq_gamma_level STUB");
}

void bridge_inq_gamma_mode()
{
    log("bridge_inq_gamma_mode STUB");
}

void bridge_inq_gamma_offset()
{
    log("bridge_inq_gamma_offset STUB");
}

void bridge_inq_gamma_pattern()
{
    log("bridge_inq_gamma_pattern STUB");
}

void bridge_inq_hdmi_color_space()
{
    log("bridge_inq_hdmi_color_space STUB");
}

void bridge_inq_hdmi_video_format()
{
    log("bridge_inq_hdmi_video_format STUB");
}

void bridge_inq_ir_cut_filter()
{
    log("bridge_inq_ir_cut_filter STUB");
}

void bridge_inq_knee_mode()
{
    log("bridge_inq_knee_mode STUB");
}

void bridge_inq_knee_point()
{
    log("bridge_inq_knee_point STUB");
}

void bridge_inq_knee_setting()
{
    log("bridge_inq_knee_setting STUB");
}

void bridge_inq_knee_slope()
{
    log("bridge_inq_knee_slope STUB");
}

void bridge_inq_menu_display_status()
{
    log("bridge_inq_menu_display_status STUB");
}

void bridge_inq_noise_reduction_manual_setting()
{
    log("bridge_inq_noise_reduction_manual_setting STUB");
}

void bridge_inq_noise_reduction_mode_level()
{
    log("bridge_inq_noise_reduction_mode_level STUB");
}

void bridge_inq_pan_tilt_limit()
{
    log("bridge_inq_pan_tilt_limit STUB");
}

static void pan_to_retarded_integer_encoding(float degrees, int p[5])
{
    const float onedegree = 235.9f;
    unsigned int value = 0;

    if (degrees > 0)
        value = degrees * onedegree + 0.5f;
    else if (degrees < 0)
        value = -degrees * onedegree + 0x100000 + 0.5f;

    p[0] = 0;
    p[1] = (value & 0xf000) >> 12;
    p[2] = (value & 0x0f00) >> 8;
    p[3] = (value & 0x00f0) >> 4;
    p[4] = (value & 0x000f) >> 0;
}

static void tilt_to_retarded_integer_encoding(float degrees, int t[4])
{
    const float onedegree = 235.9f;
    unsigned int value = 0;

    if (degrees > 0)
        value = degrees * onedegree + 0.5f;
    else if (degrees < 0)
        value = -degrees * onedegree + 0x10000 + 0.5f;

    t[0] = (value & 0xf000) >> 12;
    t[1] = (value & 0x0f00) >> 8;
    t[2] = (value & 0x00f0) >> 4;
    t[3] = (value & 0x000f) >> 0;
}

buffer_t* bridge_inq_pan_tilt_position()
{
    buffer_t *preset_response = cons_buffer(8);

    preset_response->data[0] = 0x00;
    preset_response->data[1] = 0x00;
    preset_response->data[2] = 0x00;
    preset_response->data[3] = 0x00;
    preset_response->data[4] = 0x00;
    preset_response->data[5] = 0x00;
    preset_response->data[6] = 0x00;
    preset_response->data[7] = 0x01;

    return preset_response;

#if 0
    float pan, tilt;
    int p[5], t[4];
    buffer_t *response = cons_buffer(9);

    log("bridge_inq_pan_tilt_position");

    soap_ptz_get_position(&pan, &tilt, NULL);

    log("we got pan %.2f tilt %.2f", pan, tilt);

    pan_to_retarded_integer_encoding(pan * 180.f, p);
    pan_to_retarded_integer_encoding(tilt * 180.f, t);

    response->data[0] = p[0];
    response->data[1] = p[1];
    response->data[2] = p[2];
    response->data[3] = p[3];
    response->data[4] = p[4];
    response->data[5] = t[0];
    response->data[6] = t[1];
    response->data[7] = t[2];
    response->data[8] = t[3];

    return response;
#endif
}

void bridge_inq_pan_tilt_ramp_curve()
{
    log("bridge_inq_pan_tilt_ramp_curve STUB");
}

void bridge_inq_pan_tilt_slow_mode()
{
    log("bridge_inq_pan_tilt_slow_mode STUB");
}

void bridge_inq_pan_tilt_status()
{
    log("bridge_inq_pan_tilt_status STUB");
}

void bridge_inq_power_on()
{
    log("bridge_inq_power_on STUB");
}

void bridge_inq_preset()
{
    log("bridge_inq_preset STUB");
}

void bridge_inq_preset_driven_speed()
{
    log("bridge_inq_preset_driven_speed STUB");
}

void bridge_inq_preset_mode()
{
    log("bridge_inq_preset_mode STUB");
}

void bridge_inq_ptz_trace_playback_prep_status()
{
    log("bridge_inq_ptz_trace_playback_prep_status STUB");
}

void bridge_inq_ptz_trace_record_status_bulk()
{
    log("bridge_inq_ptz_trace_record_status_bulk STUB");
}

void bridge_inq_ptz_trace_record_status_individual()
{
    log("bridge_inq_ptz_trace_record_status_individual STUB");
}

void bridge_inq_ptz_trace_status()
{
    log("bridge_inq_ptz_trace_status STUB");
}

void bridge_inq_software_version()
{
    log("bridge_inq_software_version STUB");
}

void bridge_inq_system_hphase()
{
    log("bridge_inq_system_hphase STUB");
}

void bridge_inq_system_img_flip()
{
    log("bridge_inq_system_img_flip STUB");
}

void bridge_inq_system_ir_receive()
{
    log("bridge_inq_system_ir_receive STUB");
}

void bridge_inq_system_pan_reverse()
{
    log("bridge_inq_system_pan_reverse STUB");
}

void bridge_inq_system_tilt_reverse()
{
    log("bridge_inq_system_tilt_reverse STUB");
}

void bridge_inq_tally_on()
{
    log("bridge_inq_tally_on STUB");
}

buffer_t* bridge_inq_zoom_position()
{
    log("bridge_inq_zoom_position");

    return cons_buffer_with_value(4, 0x1);
}

void bridge_inq_focus_af_mode()
{
    log("bridge_inq_focus_af_mode STUB");
}

void bridge_inq_wb_mode()
{
    log("bridge_inq_wb_mode STUB");
}

void bridge_inq_r_gain()
{
    log("bridge_inq_r_gain STUB");
}

void bridge_inq_ae_mode()
{
    log("bridge_inq_ae_mode STUB");
}

void bridge_inq_shutter_pos()
{
    log("bridge_inq_shutter_pos STUB");
}

void bridge_inq_iris_pos()
{
    log("bridge_inq_iris_pos STUB");
}

void bridge_inq_bright_pos()
{
    log("bridge_inq_bright_pos STUB");
}

void bridge_inq_exp_comp_mode()
{
    log("bridge_inq_exp_comp_mode STUB");
}

void bridge_inq_exp_comp_pos()
{
    log("bridge_inq_exp_comp_pos STUB");
}

void bridge_inq_backlight_mode()
{
    log("bridge_inq_backlight_mode STUB");
}

void bridge_inq_noise2_d_mode()
{
    log("bridge_inq_noise2_d_mode STUB");
}

void bridge_inq_noise2_d_l()
{
    log("bridge_inq_noise2_d_l STUB");
}

void bridge_inq_noise3_d_l()
{
    log("bridge_inq_noise3_d_l STUB");
}

void bridge_inq_flicker_mode()
{
    log("bridge_inq_flicker_mode STUB");
}

void bridge_inq_aperture_mode()
{
    log("bridge_inq_aperture_mode STUB");
}

void bridge_inq_aperture()
{
    log("bridge_inq_aperture STUB");
}

void bridge_inq_picture_effect_mode()
{
    log("bridge_inq_picture_effect_mode STUB");
}

void bridge_inq_lr_reverse()
{
    log("bridge_inq_lr_reverse STUB");
}

void bridge_inq_picture_flip()
{
    log("bridge_inq_picture_flip STUB");
}

void bridge_inq_color_gain()
{
    log("bridge_inq_color_gain STUB");
}

void bridge_inq_gain_limit()
{
    log("bridge_inq_gain_limit STUB");
}

void bridge_inq_flip()
{
    log("bridge_inq_flip STUB");
}

void bridge_inq_af_zone()
{
    log("bridge_inq_af_zone STUB");
}

void bridge_inq_color_hue()
{
    log("bridge_inq_color_hue STUB");
}

void bridge_inq_awb_sensitivity()
{
    log("bridge_inq_awb_sensitivity STUB");
}

